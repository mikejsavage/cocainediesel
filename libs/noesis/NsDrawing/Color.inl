////////////////////////////////////////////////////////////////////////////////////////////////////
// NoesisGUI - http://www.noesisengine.com
// Copyright (c) 2013 Noesis Technologies S.L. All Rights Reserved.
////////////////////////////////////////////////////////////////////////////////////////////////////


#include <NsMath/Utils.h>


namespace Noesis
{

////////////////////////////////////////////////////////////////////////////////////////////////////
Color::Color()
{
    mColor[0] = 0.0f;
    mColor[1] = 0.0f;
    mColor[2] = 0.0f;
    mColor[3] = 1.0f;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Color::Color(float red, float green, float blue, float alpha)
{
    mColor[0] = red;
    mColor[1] = green;
    mColor[2] = blue;
    mColor[3] = alpha;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Color::Color(int red, int green, int blue, int alpha)
{
    mColor[0] = red / 255.0f;
    mColor[1] = green / 255.0f;
    mColor[2] = blue / 255.0f;
    mColor[3] = alpha / 255.0f;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
void Color::SetRed(float red)
{
    mColor[0] = red;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
void Color::SetRed(int red)
{
    mColor[0] = red / 255.0f;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
void Color::SetGreen(float green)
{
    mColor[1] = green;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
void Color::SetGreen(int green)
{
    mColor[1] = green / 255.0f;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
void Color::SetBlue(float blue)
{
    mColor[2] = blue;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
void Color::SetBlue(int blue)
{
    mColor[2] = blue / 255.0f;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
void Color::SetAlpha(float alpha)
{
    mColor[3] = alpha;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
void Color::SetAlpha(int alpha)
{
    mColor[3] = alpha / 255.0f;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
void Color::SetPackedColorBGRA(uint32_t color)
{
    mColor[0] = ((color >> 16) & 255) / 255.0f;
    mColor[1] = ((color >> 8) & 255) / 255.0f;
    mColor[2] = (color & 255) / 255.0f;
    mColor[3] = (color >> 24) / 255.0f;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
void Color::SetPackedColorRGBA(uint32_t color)
{
    mColor[0] = (color & 255) / 255.0f;
    mColor[1] = ((color >> 8) & 255) / 255.0f;
    mColor[2] = ((color >> 16) & 255) / 255.0f;
    mColor[3] = (color >> 24) / 255.0f;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
int Color::GetRedI() const
{
    return Clip(Trunc(mColor[0] * 255.0f), 0, 255);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
int Color::GetGreenI() const
{
    return Clip(Trunc(mColor[1] * 255.0f), 0, 255);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
int Color::GetBlueI() const
{
    return Clip(Trunc(mColor[2] * 255.0f), 0, 255);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
int Color::GetAlphaI() const
{
    return Clip(Trunc(mColor[3] * 255.0f), 0, 255);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
float Color::GetRedF() const
{
    return mColor[0];
}

////////////////////////////////////////////////////////////////////////////////////////////////////
float Color::GetGreenF() const
{
    return mColor[1];
}

////////////////////////////////////////////////////////////////////////////////////////////////////
float Color::GetBlueF() const
{
    return mColor[2];
}

////////////////////////////////////////////////////////////////////////////////////////////////////
float Color::GetAlphaF() const
{
    return mColor[3];
}

////////////////////////////////////////////////////////////////////////////////////////////////////
uint32_t Color::GetPackedColorBGRA() const
{
    return (GetAlphaI() << 24) | (GetRedI() << 16) | (GetGreenI() << 8) | GetBlueI();
}

////////////////////////////////////////////////////////////////////////////////////////////////////
uint32_t Color::GetPackedColorRGBA() const
{
    return (GetAlphaI() << 24) | (GetBlueI() << 16) | (GetGreenI() << 8) | GetRedI();
}

////////////////////////////////////////////////////////////////////////////////////////////////////
bool Color::operator==(const Color& color) const
{
    return mColor[0] == color.mColor[0] && mColor[1] == color.mColor[1] && 
        mColor[2] == color.mColor[2] && mColor[3] == color.mColor[3];
}

////////////////////////////////////////////////////////////////////////////////////////////////////
bool Color::operator!=(const Color& color) const
{
    return !(*this == color);
}

}